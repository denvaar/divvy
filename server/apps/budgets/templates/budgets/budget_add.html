{% extends "base.html" %}
{% load form_tags %}

{% block content %}
<div class="content">  
  {% if messages %}
  <ul class="messages">
      {% for message in messages %}
      <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
      {% endfor %}
  </ul>
  {% endif %} 
  <form method="POST">
    {% csrf_token %}
    {{ form|as_vertical_form }}
    <div class="action-group">
        <button type="submit" class="button" name="cancel">Cancel</button>
        <button type="submit" class="button button-color-1">Save Budget</button>
    </div>
  </form>
</div>

<script>
    function getFormGroup() {
      var selected_group = document.getElementById('id_group_select').value;
      var opts = Array.apply(null, document.getElementById('id_group_select').options);
      var all_groups = opts.map(function(option) {
        option.value === '' ? return null : return option.value;
      });
      console.log(all_groups);


      console.log(document.getElementById('id_group_select').options);
      var groups = document.querySelectorAll('[data-groupid]');
      groups.forEach(function(element) {
        if (element.dataset.groupid === `group_${selected_group}`) {
          element.parentElement.classList.toggle('hidden');
          console.log(element.parentElement);
        }
      });
    }
</script>

{% endblock content %}
